(()=>{"use strict";const e=function(e,t){return e+t},t=function(e,t){return e-t},n=function(e,t){return 0===e||0===t?0:e*t},r=function(e,t){if(0===t)throw new Error("You cannot divide by zero");return e/t},a={screen:"0",firstValue:null,waitingForSecondValue:!1,operator:null};function o(){document.querySelector(".result").value=a.screen}o();const i={inputDigit:function(e){!0===a.waitingForSecondValue?(a.screen=e,a.waitingForSecondValue=!1):"0"===a.screen?a.screen=e:a.screen+=e,console.log(a)},inputDecimal:function(e){if(!0===a.waitingForSecondValue)return a.screen="0.",void(a.waitingForSecondValue=!1);a.screen.includes(".")||(a.screen+=e)},handleOperator:function(o){const i=parseFloat(a.screen);if(a.operator&&a.waitingForSecondValue)return a.operator=o,void console.log(a);if(null!==a.firstValue||isNaN(i)){if(a.operator){let o=0;switch(a.operator){case"add":o=e(a.firstValue,i);break;case"substraction":o=t(a.firstValue,i);break;case"multi":o=n(a.firstValue,i);break;case"divide":o=r(a.firstValue,i)}a.screen=String(o),a.firstValue=o}}else a.firstValue=i;a.waitingForSecondValue=!0,a.operator=o,console.log(a)},clear:function(){a.screen="0",a.firstValue=null,a.waitingForSecondValue=!1,a.operator=null,console.log(a)},updateScreen:o};document.addEventListener("DOMContentLoaded",(()=>{document.querySelector(".calc-cnt").querySelector("tbody").addEventListener("click",(e=>{if(!e.target.matches('input[type="button"]'))return;const t=e.target,{action:n}=t.dataset,{number:r}=t.dataset,{decimal:a}=t.dataset,{clear:o}=t.dataset,{equals:c}=t.dataset;return n?(i.handleOperator(t.dataset.action),void i.updateScreen()):r?(i.inputDigit(t.value),void i.updateScreen()):a?(i.inputDecimal(t.value),void i.updateScreen()):o?(i.clear(),void i.updateScreen()):void(c&&(i.handleOperator(c),i.updateScreen()))}))}))})();