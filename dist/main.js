(()=>{"use strict";const e=function(e,n){return e+n},n=function(e,n){return e-n},t=function(e,n){return 0===e||0===n?0:e*n},r=function(e,n){if(0===n)throw new Error("You cannot divide by zero");return e/n},o={screen:"0",firstValue:null,waitingForSecondValue:!1,operator:null};function a(){document.querySelector(".result").value=o.screen}a();const i={inputDigit:function(e){!0===o.waitingForSecondValue?(o.screen=e,o.waitingForSecondValue=!1):"0"===o.screen?o.screen=e:o.screen+=e,console.log(o)},inputDecimal:function(e){if(!0===o.waitingForSecondValue)return o.screen="0.",void(o.waitingForSecondValue=!1);o.screen.includes(".")||(o.screen+=e)},handleOperator:function(a){const i=parseFloat(o.screen);if(o.operator&&o.waitingForSecondValue)return o.operator=a,void console.log(o);if(null!==o.firstValue||isNaN(i)){if(o.operator){let a=0;switch(o.operator){case"add":a=e(o.firstValue,i);break;case"substraction":a=n(o.firstValue,i);break;case"multi":a=t(o.firstValue,i);break;case"divide":a=r(o.firstValue,i)}o.screen=String(a),o.firstValue=a}}else o.firstValue=i;o.waitingForSecondValue=!0,o.operator=a,console.log(o)},clear:function(){o.screen="0",o.firstValue=null,o.waitingForSecondValue=!1,o.operator=null,console.log(o)},updateScreen:a};document.addEventListener("DOMContentLoaded",(()=>{document.querySelector(".calc-cnt").querySelector("tbody").addEventListener("click",(e=>{if(!e.target.matches('input[type="button"]'))return;const n=e.target,{action:t,number:r,decimal:o,clear:a,equals:c}=n.dataset;t?i.handleOperator(n.dataset.action):r?i.inputDigit(n.value):o?i.inputDecimal(n.value):a?i.clear():c&&i.handleOperator(c),i.updateScreen()}))}))})();